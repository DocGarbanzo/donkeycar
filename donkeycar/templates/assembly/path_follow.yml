parts:
  - joystick:
      arguments:
        button_down: [cfg.SAVE_PATH_BTN, cfg.ERASE_PATH_BTN, cfg.RESET_ORIGIN_BTN]
      inputs: [cam/image_array]
      outputs: [user/angle, user/throttle, user/mode, recording, button_down, button_up]
      threaded: true
  - pigpioencoder:
      enable: cfg.HAVE_ODOM
      arguments:
        pin: cfg.ODOM_PIN
      outputs: [enc/ticks]
  - odomdist:
      enable: cfg.HAVE_ODOM
      arguments:
        mm_per_tick: cfg.MM_PER_TICK
        debug: cfg.ODOM_DEBUG
      inputs: [enc/ticks, user/throttle]
      outputs: [enc/dist_m, enc/vel_m_s, enc/delta_vel_m_s]
  - rs_t265:
      enable: cfg.HAVE_ODOM
      arguments:
        image_output: false
        calib_filename: cfg.WHEEL_ODOM_CALIB
      inputs: [enc/vel_m_s]
      outputs: [rs/pos, rs/vel, rs/acc, rs/camera/left/img_array]
      threaded: true
  - rs_t265:
      enable: not cfg.HAVE_ODOM
      arguments:
        image_output: false
        calib_filename: null
      outputs: [rs/pos, rs/vel, rs/acc, rs/camera/left/img_array]
      threaded: true
  - posstream:
      inputs: [rs/pos]
      outputs: [pos/x, pos/y]                
  - originoffset:
      parameter:
        init_button: cfg.RESET_ORIGIN_BTN
      inputs: [pos/x, pos/y, button_down]
      outputs: [pos/x, pos/y]

